<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prague Lunch Bot</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="bg-yellow-100 min-h-screen flex flex-col items-center font-sans text-gray-800">

<header class="bg-white shadow-md rounded-2xl px-6 py-4 mt-8 flex items-center gap-4">
    <img src="avatar.png" alt="Prague Lunch Bot logo" class="w-12 h-12">
    <div>
        <h1 class="text-2xl font-bold">Prague Lunch Bot</h1>
        <p class="text-sm text-gray-500" id="date"></p>
    </div>
</header>

<section class="max-w-2xl text-center mt-6">
    <p class="text-lg">Here are todayâ€™s lunch menus from favorite spots around the office. Enjoy!</p>
</section>

<main class="max-w-3xl w-full mt-8 space-y-8 px-4" id="menu-list"></main>

<footer class="mt-auto mb-8 text-gray-400 text-sm">
    Made with ğŸ¥— by Prague Lunch Bot
</footer>

<script>
    async function loadMenus() {
        try {
            const res = await fetch("menus.json");
            const data = await res.json();

            document.getElementById("date").textContent =
                new Date(data.date).toLocaleDateString("en-GB", { weekday: "long", day: "2-digit", month: "2-digit", year: "numeric" });

            const menuList = document.getElementById("menu-list");

            data.menus.forEach(menu => {
                const card = document.createElement("div");
                card.className = "bg-white rounded-2xl shadow-md p-6";

                card.innerHTML = `
            <h2 class="text-xl font-semibold mb-2">${menu.name}</h2>
            <p class="text-sm mb-4">
              <a href="${menu.url}" target="_blank" class="text-blue-600 underline">ğŸŒ Visit web</a> &nbsp;|&nbsp;
              <a href="${menu.locationUrl}" target="_blank" class="text-blue-600 underline">ğŸ“ Location</a>
            </p>
            <ul class="space-y-2">
              ${menu.items.map(i => `
                <li class="flex justify-between border-b pb-1">
                  <span>${i.isSoup ? "ğŸ¥£ " : ""}${i.isVegetarian ? "ğŸŒ¿ " : ""}${i.name}</span>
                  <span class="font-medium">${i.price ? `${i.price} KÄ` : ""}</span>
                </li>
              `).join("")}
            </ul>
          `;
                menuList.appendChild(card);
            });
        } catch (err) {
            console.error("Failed to load menus:", err);
        }
    }

    loadMenus();
</script>
</body>
</html>
